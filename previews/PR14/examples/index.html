<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · SomervilleCouncilParser.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SomervilleCouncilParser.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../new_users/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Examples</a></li><li><a class="tocitem" href="../api/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/hannahilea/SomervilleCouncilParser.jl/blob/master/docs/src/examples.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p>Examples of how to make some basic queries!</p><h3 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h3><p>SomervilleCouncilParser.jl is a Julia package.  To install it, from your Julia REPL do</p><pre><code class="language-julia hljs">using Pkg
Pkg.add(url=&quot;https://github.com/hannahilea/SomervilleCouncilParser.jl&quot;)</code></pre><p>If you aren&#39;t sure what a REPL is, and/or you&#39;re entirely new to Julia, first read the page on <a href="../new_users/#Getting-started-from-the-very-basics">Getting started from the very basics</a>!</p><h3 id="Find-meetings-from-a-particular-date-range"><a class="docs-heading-anchor" href="#Find-meetings-from-a-particular-date-range">Find meetings from a particular date range</a><a id="Find-meetings-from-a-particular-date-range-1"></a><a class="docs-heading-anchor-permalink" href="#Find-meetings-from-a-particular-date-range" title="Permalink"></a></h3><pre><code class="language-julia hljs">using SomervilleCouncilParser
meetings = request_meetings(&quot;10/1/2021&quot;, &quot;10/31/2021&quot;)</code></pre><div class="data-frame"><p>16 rows × 4 columns</p><table class="data-frame"><thead><tr><th></th><th>name</th><th>date</th><th>id</th><th>link</th></tr><tr><th></th><th title="String">String</th><th title="Dates.DateTime">DateTime</th><th title="Int64">Int64</th><th title="String">String</th></tr></thead><tbody><tr><th>1</th><td>Rules Special Committee</td><td>2021-10-04T18:00:00</td><td>3424</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3424</td></tr><tr><th>2</th><td>School Committee</td><td>2021-10-04T19:00:00</td><td>3422</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3422</td></tr><tr><th>3</th><td>Land Use Committee</td><td>2021-10-05T18:00:00</td><td>3420</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3420</td></tr><tr><th>4</th><td>Legislative Matters Committee</td><td>2021-10-07T18:00:00</td><td>3419</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3419</td></tr><tr><th>5</th><td>Finance Committee</td><td>2021-10-12T18:00:00</td><td>3429</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3429</td></tr><tr><th>6</th><td>City Council</td><td>2021-10-14T19:00:00</td><td>3425</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3425</td></tr><tr><th>7</th><td>School Committee</td><td>2021-10-18T19:00:00</td><td>3423</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3423</td></tr><tr><th>8</th><td>Confirmation of Appointments and Personnel Matters Committee</td><td>2021-10-19T18:00:00</td><td>3428</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3428</td></tr><tr><th>9</th><td>Land Use Committee</td><td>2021-10-19T18:00:00</td><td>3434</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3434</td></tr><tr><th>10</th><td>Traffic and Parking Committee</td><td>2021-10-20T18:00:00</td><td>3427</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3427</td></tr><tr><th>11</th><td>Legislative Matters Committee</td><td>2021-10-21T18:00:00</td><td>3436</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3436</td></tr><tr><th>12</th><td>Rules Special Committee</td><td>2021-10-25T18:00:00</td><td>3430</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3430</td></tr><tr><th>13</th><td>Public Utilities and Public Works Committee</td><td>2021-10-25T18:00:00</td><td>3432</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3432</td></tr><tr><th>14</th><td>Finance Committee</td><td>2021-10-26T18:00:00</td><td>3437</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3437</td></tr><tr><th>15</th><td>Licenses and Permits Committee</td><td>2021-10-27T18:00:00</td><td>3433</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3433</td></tr><tr><th>16</th><td>City Council</td><td>2021-10-28T19:00:00</td><td>3426</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3426</td></tr></tbody></table></div><p>Because this function (like many) returns a <code>DataFrame</code>, you can use any of the <code>DataFrame</code> operations to act on it:</p><h4 id="...filtering-for-a-certain-meeting-type"><a class="docs-heading-anchor" href="#...filtering-for-a-certain-meeting-type">...filtering for a certain meeting type</a><a id="...filtering-for-a-certain-meeting-type-1"></a><a class="docs-heading-anchor-permalink" href="#...filtering-for-a-certain-meeting-type" title="Permalink"></a></h4><pre><code class="language-julia hljs">full_council_meetings = filter(:name =&gt; ==(&quot;City Council&quot;), meetings)</code></pre><div class="data-frame"><p>2 rows × 4 columns</p><table class="data-frame"><thead><tr><th></th><th>name</th><th>date</th><th>id</th><th>link</th></tr><tr><th></th><th title="String">String</th><th title="Dates.DateTime">DateTime</th><th title="Int64">Int64</th><th title="String">String</th></tr></thead><tbody><tr><th>1</th><td>City Council</td><td>2021-10-14T19:00:00</td><td>3425</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3425</td></tr><tr><th>2</th><td>City Council</td><td>2021-10-28T19:00:00</td><td>3426</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3426</td></tr></tbody></table></div><h4 id="...sorting-by-date-(most-to-least-recent):"><a class="docs-heading-anchor" href="#...sorting-by-date-(most-to-least-recent):">...sorting by date (most to least recent):</a><a id="...sorting-by-date-(most-to-least-recent):-1"></a><a class="docs-heading-anchor-permalink" href="#...sorting-by-date-(most-to-least-recent):" title="Permalink"></a></h4><pre><code class="language-julia hljs">sort(meetings, [:date]; rev=true)</code></pre><div class="data-frame"><p>16 rows × 4 columns</p><table class="data-frame"><thead><tr><th></th><th>name</th><th>date</th><th>id</th><th>link</th></tr><tr><th></th><th title="String">String</th><th title="Dates.DateTime">DateTime</th><th title="Int64">Int64</th><th title="String">String</th></tr></thead><tbody><tr><th>1</th><td>City Council</td><td>2021-10-28T19:00:00</td><td>3426</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3426</td></tr><tr><th>2</th><td>Licenses and Permits Committee</td><td>2021-10-27T18:00:00</td><td>3433</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3433</td></tr><tr><th>3</th><td>Finance Committee</td><td>2021-10-26T18:00:00</td><td>3437</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3437</td></tr><tr><th>4</th><td>Rules Special Committee</td><td>2021-10-25T18:00:00</td><td>3430</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3430</td></tr><tr><th>5</th><td>Public Utilities and Public Works Committee</td><td>2021-10-25T18:00:00</td><td>3432</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3432</td></tr><tr><th>6</th><td>Legislative Matters Committee</td><td>2021-10-21T18:00:00</td><td>3436</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3436</td></tr><tr><th>7</th><td>Traffic and Parking Committee</td><td>2021-10-20T18:00:00</td><td>3427</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3427</td></tr><tr><th>8</th><td>Confirmation of Appointments and Personnel Matters Committee</td><td>2021-10-19T18:00:00</td><td>3428</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3428</td></tr><tr><th>9</th><td>Land Use Committee</td><td>2021-10-19T18:00:00</td><td>3434</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3434</td></tr><tr><th>10</th><td>School Committee</td><td>2021-10-18T19:00:00</td><td>3423</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3423</td></tr><tr><th>11</th><td>City Council</td><td>2021-10-14T19:00:00</td><td>3425</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3425</td></tr><tr><th>12</th><td>Finance Committee</td><td>2021-10-12T18:00:00</td><td>3429</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3429</td></tr><tr><th>13</th><td>Legislative Matters Committee</td><td>2021-10-07T18:00:00</td><td>3419</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3419</td></tr><tr><th>14</th><td>Land Use Committee</td><td>2021-10-05T18:00:00</td><td>3420</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3420</td></tr><tr><th>15</th><td>School Committee</td><td>2021-10-04T19:00:00</td><td>3422</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3422</td></tr><tr><th>16</th><td>Rules Special Committee</td><td>2021-10-04T18:00:00</td><td>3424</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3424</td></tr></tbody></table></div><h4 id="...finding-all-dates-that-held-more-than-one-meeting"><a class="docs-heading-anchor" href="#...finding-all-dates-that-held-more-than-one-meeting">...finding all dates that held more than one meeting</a><a id="...finding-all-dates-that-held-more-than-one-meeting-1"></a><a class="docs-heading-anchor-permalink" href="#...finding-all-dates-that-held-more-than-one-meeting" title="Permalink"></a></h4><pre><code class="language-julia hljs">using Dates
using Pkg
Pkg.add(&quot;DataFrames&quot;)
using DataFrames
transform!(meetings, :date =&gt; ByRow(Date) =&gt; :day)
gdf = filter(g -&gt; nrow(g) &gt; 1, groupby(meetings, :day))
combine(gdf, nrow =&gt; :num_meetings)</code></pre><div class="data-frame"><p>3 rows × 2 columns</p><table class="data-frame"><thead><tr><th></th><th>day</th><th>num_meetings</th></tr><tr><th></th><th title="Dates.Date">Date</th><th title="Int64">Int64</th></tr></thead><tbody><tr><th>1</th><td>2021-10-04</td><td>2</td></tr><tr><th>2</th><td>2021-10-19</td><td>2</td></tr><tr><th>3</th><td>2021-10-25</td><td>2</td></tr></tbody></table></div><p>To learn more about working with <code>DataFrame</code>s, see <a href="https://dataframes.juliadata.org/stable/">the official DataFrames.jl docs</a> or <a href="https://bkamins.github.io/julialang/2020/12/24/minilanguage.html">this handy blog post</a>.</p><h3 id="Get-the-agenda-items-from-a-single-meeting"><a class="docs-heading-anchor" href="#Get-the-agenda-items-from-a-single-meeting">Get the agenda items from a single meeting</a><a id="Get-the-agenda-items-from-a-single-meeting-1"></a><a class="docs-heading-anchor-permalink" href="#Get-the-agenda-items-from-a-single-meeting" title="Permalink"></a></h3><p>If you want to see the list of agenda items from one of those meetings, you can request it by meeting id (as listed in the above <code>meetings</code> table)</p><pre><code class="language-julia hljs">agenda = get_agenda_items(3427)
first(agenda)</code></pre><p>DataFrameRow (4 columns)</p><div class="data-frame"><table class="data-frame"><thead><tr><th></th><th>id</th><th>content</th><th>type</th><th>link</th></tr><tr><th></th><th title="Union{Missing, Int64}">Int64?</th><th title="String">String</th><th title="Symbol">Symbol</th><th title="Union{Missing, String}">String?</th></tr></thead><tbody><tr><th>1</th><td><em>missing</em></td><td>Call to Order</td><td>heading</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Motion.aspx?Frame=&amp;MeetingID=3427&amp;MinutesID=2672&amp;MediaPosition=&amp;ID=88753&amp;Type=70&amp;CssClass=%20style=</td></tr></tbody></table></div><p>or from the full meeting link (which can be gotten from either the <code>meetings</code> table or when browsing the Council website directly)</p><pre><code class="language-julia hljs">agenda = get_agenda_items(&quot;http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3427&quot;)
first(agenda)</code></pre><p>DataFrameRow (4 columns)</p><div class="data-frame"><table class="data-frame"><thead><tr><th></th><th>id</th><th>content</th><th>type</th><th>link</th></tr><tr><th></th><th title="Union{Missing, Int64}">Int64?</th><th title="String">String</th><th title="Symbol">Symbol</th><th title="Union{Missing, String}">String?</th></tr></thead><tbody><tr><th>1</th><td><em>missing</em></td><td>Call to Order</td><td>heading</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Motion.aspx?Frame=&amp;MeetingID=3427&amp;MinutesID=2672&amp;MediaPosition=&amp;ID=88753&amp;Type=70&amp;CssClass=%20style=</td></tr></tbody></table></div><p>or from a link directly from the table</p><pre><code class="language-julia hljs">example_meeting = last(meetings)
@info example_meeting.link
agenda = get_agenda_items(example_meeting.link)
first(agenda)</code></pre><p>DataFrameRow (4 columns)</p><div class="data-frame"><table class="data-frame"><thead><tr><th></th><th>id</th><th>content</th><th>type</th><th>link</th></tr><tr><th></th><th title="Union{Missing, Int64}">Int64?</th><th title="String">String</th><th title="Symbol">Symbol</th><th title="Union{Missing, String}">String?</th></tr></thead><tbody><tr><th>1</th><td><em>missing</em></td><td>OPENING CEREMONIES</td><td>heading</td><td><em>missing</em></td></tr></tbody></table></div><h3 id="Search-the-agenda-items-from-a-single-meeting"><a class="docs-heading-anchor" href="#Search-the-agenda-items-from-a-single-meeting">Search the agenda items from a single meeting</a><a id="Search-the-agenda-items-from-a-single-meeting-1"></a><a class="docs-heading-anchor-permalink" href="#Search-the-agenda-items-from-a-single-meeting" title="Permalink"></a></h3><p>Look for all agenda items containing either &quot;hawk&quot; or &quot;crosswalk&quot;:</p><pre><code class="language-julia hljs">agenda = get_agenda_items(3427)
items = filter_agenda(agenda, [&quot;crosswalk&quot;, &quot;hawk&quot;])</code></pre><div class="data-frame"><p>10 rows × 4 columns</p><table class="data-frame"><thead><tr><th></th><th>id</th><th>content</th><th>type</th><th>link</th></tr><tr><th></th><th title="Union{Missing, Int64}">Int64?</th><th title="String">String</th><th title="Symbol">Symbol</th><th title="Union{Missing, String}">String?</th></tr></thead><tbody><tr><th>1</th><td>212254</td><td>That the Director of Mobility replace the HAWK signal at Buckingham and Beacon Streets with a standard RYG stoplight signal.</td><td>item</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_LegiFile.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=26217&amp;CssClass=</td></tr><tr><th>2</th><td>209148</td><td>That the Commissioner of Public Works immediately replace the HAWK signals on Beacon Street with more suitable and effective RYG pedestrian-activated signals.</td><td>item</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_LegiFile.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=21972&amp;CssClass=</td></tr><tr><th>3</th><td>209616</td><td>That the Director of Engineering install a crosswalk on Somerville Avenue at Kent Street and Spring Street.</td><td>item</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_LegiFile.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=22465&amp;CssClass=</td></tr><tr><th>4</th><td>209482</td><td>That the Director of Engineering construct a pedestrian crosswalk across Washington Street in front of the Public Safety Building. (2nd request)</td><td>item</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_LegiFile.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=22369&amp;CssClass=</td></tr><tr><th>5</th><td>211814</td><td>That the Director of Engineering install raised crosswalks rather than standard crosswalks for each at-grade crossing of the Community Path Extension, including Central, Sycamore, and Walnut Streets.</td><td>item</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_LegiFile.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=24763&amp;CssClass=</td></tr><tr><th>6</th><td>207486</td><td>That the Director of Engineering and the Director of Traffic and Parking update the Ward 6 Councilor on requests for crosswalks at locations specified within.</td><td>item</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_LegiFile.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=20323&amp;CssClass=</td></tr><tr><th>7</th><td>207487</td><td>That the Director of Traffic and Parking update the Ward 6 Councilor on requests for crosswalk safety improvements at the locations specified within.</td><td>item</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_LegiFile.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=20324&amp;CssClass=</td></tr><tr><th>8</th><td><em>missing</em></td><td>Beacon &amp; Buckingham HAWK - Lt. Polito Email 10-20 (with 212254, 209148)</td><td>attachment</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Communication.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=3699&amp;CssClass=</td></tr><tr><th>9</th><td><em>missing</em></td><td>Online Petition to replace the HAWK signal on Beacon St near Buckingham St (with 212254, 209148)</td><td>attachment</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Communication.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=3705&amp;CssClass=</td></tr><tr><th>10</th><td><em>missing</em></td><td>Petition signers HAWK Signal Buckingham and Beacon Sts (with 212254, 209148)</td><td>attachment</td><td>http://somervillecityma.iqm2.com/Citizens/Detail_Communication.aspx?Frame=&amp;MeetingID=3427&amp;MediaPosition=&amp;ID=3706&amp;CssClass=</td></tr></tbody></table></div><p>We can see that the results that contain &quot;hawk&quot; actually contain &quot;HAWK&quot;, the crosswalk signal, rather than the bird. To search in a case-sensitive manor, instead do</p><pre><code class="language-julia hljs">items = filter_agenda(agenda, [&quot;hawk&quot;]; case_invariant=false)</code></pre><div class="data-frame"><p>0 rows × 4 columns</p><table class="data-frame"><thead><tr><th></th><th>id</th><th>content</th><th>type</th><th>link</th></tr><tr><th></th><th title="Union{Missing, Int64}">Int64?</th><th title="String">String</th><th title="Symbol">Symbol</th><th title="Union{Missing, String}">String?</th></tr></thead><tbody></tbody></table></div><p>...which is empty, because they didn&#39;t discuss the birds after all. A shame!</p><p>Of course, you could also handle agenda content searching yourself, by filtering on the <code>content</code> field from the agenda items.</p><h3 id="Searching-multiple-agendas-(and-caching-results)"><a class="docs-heading-anchor" href="#Searching-multiple-agendas-(and-caching-results)">Searching multiple agendas (and caching results)</a><a id="Searching-multiple-agendas-(and-caching-results)-1"></a><a class="docs-heading-anchor-permalink" href="#Searching-multiple-agendas-(and-caching-results)" title="Permalink"></a></h3><p>If you&#39;re planning to search many agendas (e.g., several weeks or months or especially years worth of agendas), it is STRONGLY recommended to cache your results, so that if you search for different terms in the same range, the local cached pages can be searched rather than rerequesting the pages from the website. To do this, create a local directory and pass it in as the <code>cache_dir</code> argument. You can then use this same cache directory across multiple searches on multiple days, with multiple REPL sessions.</p><pre><code class="language-julia hljs">cache_directory = &quot;~/Downloads/SomervilleCouncilCache&quot;
mkpath(cache_directory)

x = search_agendas_for_content(&quot;9/1/2021&quot;, &quot;10/1/2021&quot;, [&quot;dpw&quot;]; cache_dir=cache_directory)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(items = 6×7 DataFrame
 Row │ id       content                            type        link            ⋯
     │ Int64?   String                             Symbol      String?         ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │  210975  That the Administration and the …  item        http://somervil ⋯
   2 │  212215  Requesting approval to pay prior…  item        http://somervil
   3 │ missing  Various DPW Divisions&#39; fy21 Invo…  attachment  FileOpen.aspx?T
   4 │  212215  Requesting approval to pay prior…  item        http://somervil
   5 │ missing  Various DPW Divisions&#39; fy21 Invo…  attachment  FileOpen.aspx?T ⋯
   6 │  212418  Requesting approval to pay prior…  item        http://somervil
                                                               4 columns omitted, meetings = 13×7 DataFrame
 Row │ name                               date                 id     link     ⋯
     │ String                             DateTime             Int64  String   ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Land Use Committee                 2021-09-01T18:00:00   3408  http://s ⋯
   2 │ City Council                       2021-09-09T19:00:00   3404  http://s
   3 │ School Committee                   2021-09-13T19:00:00   3412  http://s
   4 │ Traffic and Parking Committee      2021-09-20T18:00:00   3413  http://s
   5 │ Finance Committee                  2021-09-21T18:00:00   3417  http://s ⋯
   6 │ Licenses and Permits Committee     2021-09-22T18:00:00   3234  http://s
   7 │ City Council                       2021-09-23T19:00:00   3405  http://s
   8 │ Public Utilities and Public Work…  2021-09-27T18:00:00   3407  http://s
   9 │ School Committee                   2021-09-27T19:00:00   3421  http://s ⋯
  10 │ Confirmation of Appointments and…  2021-09-28T18:00:00   3415  http://s
  11 │ Land Use Committee                 2021-09-28T18:30:00   3416  http://s
  12 │ Housing and Community Developmen…  2021-09-29T18:00:00   3409  http://s
  13 │ Legislative Matters Committee      2021-09-30T18:00:00   3418  http://s ⋯
                                                               4 columns omitted)</code></pre><p>If you rerun the same search, it should take much less time (as it no longer has to download those agendas):</p><pre><code class="language-julia hljs">results = search_agendas_for_content(&quot;9/1/2021&quot;, &quot;10/1/2021&quot;, [&quot;dpw&quot;]; cache_dir=cache_directory)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(items = 6×7 DataFrame
 Row │ id       content                            type        link            ⋯
     │ Int64?   String                             Symbol      String?         ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │  210975  That the Administration and the …  item        http://somervil ⋯
   2 │  212215  Requesting approval to pay prior…  item        http://somervil
   3 │ missing  Various DPW Divisions&#39; fy21 Invo…  attachment  FileOpen.aspx?T
   4 │  212215  Requesting approval to pay prior…  item        http://somervil
   5 │ missing  Various DPW Divisions&#39; fy21 Invo…  attachment  FileOpen.aspx?T ⋯
   6 │  212418  Requesting approval to pay prior…  item        http://somervil
                                                               4 columns omitted, meetings = 13×7 DataFrame
 Row │ name                               date                 id     link     ⋯
     │ String                             DateTime             Int64  String   ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Land Use Committee                 2021-09-01T18:00:00   3408  http://s ⋯
   2 │ City Council                       2021-09-09T19:00:00   3404  http://s
   3 │ School Committee                   2021-09-13T19:00:00   3412  http://s
   4 │ Traffic and Parking Committee      2021-09-20T18:00:00   3413  http://s
   5 │ Finance Committee                  2021-09-21T18:00:00   3417  http://s ⋯
   6 │ Licenses and Permits Committee     2021-09-22T18:00:00   3234  http://s
   7 │ City Council                       2021-09-23T19:00:00   3405  http://s
   8 │ Public Utilities and Public Work…  2021-09-27T18:00:00   3407  http://s
   9 │ School Committee                   2021-09-27T19:00:00   3421  http://s ⋯
  10 │ Confirmation of Appointments and…  2021-09-28T18:00:00   3415  http://s
  11 │ Land Use Committee                 2021-09-28T18:30:00   3416  http://s
  12 │ Housing and Community Developmen…  2021-09-29T18:00:00   3409  http://s
  13 │ Legislative Matters Committee      2021-09-30T18:00:00   3418  http://s ⋯
                                                               4 columns omitted)</code></pre><p>How many meetings and items did this include?</p><pre><code class="language-julia hljs">print(nrow(results.meetings), &quot; meetings&quot;)
print(nrow(results.items), &quot; relevant items&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">13 meetings6 relevant items</code></pre><p>To view the content of these items, you can then do</p><pre><code class="language-julia hljs">display_items_by_meeting(results.items)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"> * 2021-09-20T18:00:00 - Traffic and Parking Committee: http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3413
   -&gt; That the Administration and the Commissioner of Public Works discuss the vehicle training process for all DPW employees and contractors whose job requires them to drive city vehicles.

 * 2021-09-21T18:00:00 - Finance Committee: http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3417
   -&gt; Requesting approval to pay prior year invoices totaling $25,254.23 from various DPW accounts using available FY22 funds.
   -&gt; Various DPW Divisions&#39; fy21 Invoices

 * 2021-09-23T19:00:00 - City Council: http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3405
   -&gt; Requesting approval to pay prior year invoices totaling $25,254.23 from various DPW accounts using available FY22 funds.
   -&gt; Various DPW Divisions&#39; fy21 Invoices
   -&gt; Requesting approval to pay prior year invoices totaling $275,751.91 using available FY22 funds within various DPW accounts.</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../new_users/">« Getting Started</a><a class="docs-footer-nextpage" href="../api/">API reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Tuesday 1 February 2022 16:12">Tuesday 1 February 2022</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
