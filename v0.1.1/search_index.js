var documenterSearchIndex = {"docs":
[{"location":"api/#API-documentation","page":"API reference","title":"API documentation","text":"","category":"section"},{"location":"api/#Exported-functions","page":"API reference","title":"Exported functions","text":"","category":"section"},{"location":"api/","page":"API reference","title":"API reference","text":"Modules = [SomervilleCouncilParser]\nPrivate = false","category":"page"},{"location":"api/#SomervilleCouncilParser.display_items_by_meeting-Tuple{DataFrames.DataFrame}","page":"API reference","title":"SomervilleCouncilParser.display_items_by_meeting","text":"display_items_by_meeting(items::DataFrame)\n\nDisplay items grouped by meeting, along with the meeting's date, name, and url.\n\n\n\n\n\n","category":"method"},{"location":"api/#SomervilleCouncilParser.filter_agenda-Tuple{DataFrames.DataFrame, Any}","page":"API reference","title":"SomervilleCouncilParser.filter_agenda","text":"filter_agenda(agenda::DataFrame, search_terms; case_invariant=true)\n\nReturn copy of agenda filtered such that only rows containing an item from search_terms in the description of the item will be preserved. When case_invariant is true, ignores uppercase vs lowercase letters.\n\n\n\n\n\n","category":"method"},{"location":"api/#SomervilleCouncilParser.get_agenda_items-Tuple{Any}","page":"API reference","title":"SomervilleCouncilParser.get_agenda_items","text":"get_agenda_items(meeting_link; cache_dir=nothing)\n\nReturn DataFrame of agenda items from meeting meeting_link. meeting_link can be either the full link (\"http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=2570\") or the meeting ID (2570).\n\nWhen cache_dir is not empty, agendas are read from the cache if they've been previously downloaded. If they do not exist in the cache, they'll be added to it.\n\n\n\n\n\n","category":"method"},{"location":"api/#SomervilleCouncilParser.request_meetings-Tuple{Any, Any}","page":"API reference","title":"SomervilleCouncilParser.request_meetings","text":"request_meetings(start_date, stop_date)\n\nReturn list of meetings that occurred (or will occur) between start_date and stop_date.\n\n\n\n\n\n","category":"method"},{"location":"api/#SomervilleCouncilParser.search_agendas_for_content-Tuple{Any, Any, Any}","page":"API reference","title":"SomervilleCouncilParser.search_agendas_for_content","text":"search_agendas_for_content(start_date, stop_date, search_terms;\n                           cache_dir=nothing, case_invariant=true)\n\nReturn NamedTuple containing meetings (a DataFrame of meetings found within the given start_date-stop_date range) and items (a DataFrame of all items containing at least one of the search_terms).\n\n\n\n\n\n","category":"method"},{"location":"api/#Non-exported-functions","page":"API reference","title":"Non-exported functions","text":"","category":"section"},{"location":"api/","page":"API reference","title":"API reference","text":"Modules = [SomervilleCouncilParser]\nPublic = false","category":"page"},{"location":"api/#SomervilleCouncilParser.request_agenda_items-Tuple{Any}","page":"API reference","title":"SomervilleCouncilParser.request_agenda_items","text":"request_agenda_items(meeting_id; verbose=false)\n\nReturn DataFrame of agenda items from meeting meeting_link. meeting_link can be either the full link (\"http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=2570\") or the meeting ID (2570).\n\n\n\n\n\n","category":"method"},{"location":"api/#SomervilleCouncilParser.validate_date-Tuple{AbstractString}","page":"API reference","title":"SomervilleCouncilParser.validate_date","text":"validate_date(date::AbstractString)\nvalidate_date(date::Date)\n\nReturns month/day/year string in format accepted by city calendar. Valid input formats are \"<M>/<D>/<YYYY>\" (6/1/2017, 06/01/2017) or Date(yyyy,mm,dd) (Date(2017,6,1)).\n\n\n\n\n\n","category":"method"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"Examples of how to make some basic queries!","category":"page"},{"location":"examples/#Installation","page":"Examples","title":"Installation","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"SomervilleCouncilParser.jl is a Julia package.  To install it, from your Julia REPL do","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"using Pkg\nPkg.add(url=\"https://github.com/hannahilea/SomervilleCouncilParser.jl\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"If you aren't sure what a REPL is, and/or you're entirely new to Julia, first read the page on Getting started from the very basics!","category":"page"},{"location":"examples/#Find-meetings-from-a-particular-date-range","page":"Examples","title":"Find meetings from a particular date range","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"using SomervilleCouncilParser\nmeetings = request_meetings(\"10/1/2021\", \"10/31/2021\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Because this function (like many) returns a DataFrame, you can use any of the DataFrame operations to act on it:","category":"page"},{"location":"examples/#...filtering-for-a-certain-meeting-type","page":"Examples","title":"...filtering for a certain meeting type","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"full_council_meetings = filter(:name => ==(\"City Council\"), meetings)","category":"page"},{"location":"examples/#...sorting-by-date-(most-to-least-recent):","page":"Examples","title":"...sorting by date (most to least recent):","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"sort(meetings, [:date]; rev=true)","category":"page"},{"location":"examples/#...finding-all-dates-that-held-more-than-one-meeting","page":"Examples","title":"...finding all dates that held more than one meeting","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"using Dates\nusing Pkg\nPkg.add(\"DataFrames\")\nusing DataFrames\ntransform!(meetings, :date => ByRow(Date) => :day)\ngdf = filter(g -> nrow(g) > 1, groupby(meetings, :day))\ncombine(gdf, nrow => :num_meetings)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"To learn more about working with DataFrames, see the official DataFrames.jl docs or this handy blog post.","category":"page"},{"location":"examples/#Get-the-agenda-items-from-a-single-meeting","page":"Examples","title":"Get the agenda items from a single meeting","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"If you want to see the list of agenda items from one of those meetings, you can request it by meeting id (as listed in the above meetings table)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"agenda = get_agenda_items(3427)\nfirst(agenda)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"or from the full meeting link (which can be gotten from either the meetings table or when browsing the Council website directly)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"agenda = get_agenda_items(\"http://somervillecityma.iqm2.com/Citizens/Detail_Meeting.aspx?ID=3427\")\nfirst(agenda)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"or from a link directly from the table","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"example_meeting = last(meetings)\n@info example_meeting.link\nagenda = get_agenda_items(example_meeting.link)\nfirst(agenda)","category":"page"},{"location":"examples/#Search-the-agenda-items-from-a-single-meeting","page":"Examples","title":"Search the agenda items from a single meeting","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"Look for all agenda items containing either \"hawk\" or \"crosswalk\":","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"agenda = get_agenda_items(3427)\nitems = filter_agenda(agenda, [\"crosswalk\", \"hawk\"])","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"We can see that the results that contain \"hawk\" actually contain \"HAWK\", the crosswalk signal, rather than the bird. To search in a case-sensitive manor, instead do","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"items = filter_agenda(agenda, [\"hawk\"]; case_invariant=false)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"...which is empty, because they didn't discuss the birds after all. A shame!","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Of course, you could also handle agenda content searching yourself, by filtering on the content field from the agenda items.","category":"page"},{"location":"examples/#Searching-multiple-agendas-(and-caching-results)","page":"Examples","title":"Searching multiple agendas (and caching results)","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"If you're planning to search many agendas (e.g., several weeks or months or especially years worth of agendas), it is STRONGLY recommended to cache your results, so that if you search for different terms in the same range, the local cached pages can be searched rather than rerequesting the pages from the website. To do this, create a local directory and pass it in as the cache_dir argument. You can then use this same cache directory across multiple searches on multiple days, with multiple REPL sessions.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"cache_directory = \"~/Downloads/SomervilleCouncilCache\"\ncache_directory = mktempdir() #hide\nmkpath(cache_directory)\n\nx = search_agendas_for_content(\"9/1/2021\", \"10/1/2021\", [\"dpw\"]; cache_dir=cache_directory)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"If you rerun the same search, it should take much less time (as it no longer has to download those agendas):","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"results = search_agendas_for_content(\"9/1/2021\", \"10/1/2021\", [\"dpw\"]; cache_dir=cache_directory)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"How many meetings and items did this include?","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"print(nrow(results.meetings), \" meetings\")\nprint(nrow(results.items), \" relevant items\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"To view the content of these items, you can then do","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"display_items_by_meeting(results.items)","category":"page"},{"location":"new_users/#Getting-started-from-the-very-basics","page":"Getting Started","title":"Getting started from the very basics","text":"","category":"section"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"So you want to give this tool a try, but you're totally lost on how to get started? This section is for you! (If you're still confused after reading this, please file an issue for what tripped you up so we can clarify further. :) )","category":"page"},{"location":"new_users/#Setting-up-Julia","page":"Getting Started","title":"Setting up Julia","text":"","category":"section"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"First things first: this project is written in a programming language called Julia. To use it, you'll need to install Julia!","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"Download the installer for your particular computer (if in doubt, you likely need \"64-bit\" or \"64-bit (installer)\"): Installers\nRun the installer! It will prompt you on where to install the program; the basic settings are sufficient, no need to do anything fancy.\nOptional: Want to run Julia from the command prompt/terminal? (If you don't know what this means, that's fine–-you likely don't need this option!) If so, instructions for adding it to your PATH here: mac and windows","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"Find and run the installed Julia program the same way you'd find any other program installed on your computer–-possibly by double-clicking on its desktop icon, or by finding it in the Applications list, depending on what type of computer you have.     - If you've added it to your PATH, above, you can run in from the command line by typing julia.","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"When Julia launches, it will open a text prompt window called a REPL (\"read-eval-print-loop\"). Type","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"\"hello world\"","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"into the prompt and then hit enter. Congrats, you're using Julia!","category":"page"},{"location":"new_users/#Setting-up-SomervilleCouncilParser.jl","page":"Getting Started","title":"Setting up SomervilleCouncilParser.jl","text":"","category":"section"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"Next, let's install this project! In the REPL, type (or copy and paste) and then hit enter:","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"using Pkg\nPkg.add(url=\"https://github.com/hannahilea/SomervilleCouncilParser.jl\")","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"You should now be able to run any of the examples from the examples section, by typing (or copying) them directly into the REPL. For example, to list all meetings that occurred on June 1, 2020, do","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"using SomervilleCouncilParser\nmeetings = request_meetings(\"6/1/2020\", \"6/1/2020\")","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"To leave the Julia program when you're done, type exit(), or close the REPL window.","category":"page"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"That's it!","category":"page"},{"location":"new_users/#Other-notes","page":"Getting Started","title":"Other notes","text":"","category":"section"},{"location":"new_users/","page":"Getting Started","title":"Getting Started","text":"If you type a long query (say, you accidentally search for 10 years' worth of meetings instead of a single year!) and want to cancel the command in progress, do ctrl+c to cancel it.\nWhen running in Terminal.app (default on macOS), use CMD + double click to open any link in a browser.\nIf you encounter Julia code snippets that use an external project (i.e., code that lives outside of this project), they will look like this:\njulia   using SomeFunExternalDependency\n(for a depencency that is named SomeFunExternalDependency).\nBefore you run this using ... command, you'll have to install the package from within Julia. To do this, type\njulia   using Pkg   Pkg.add(\"SomeFunExternalDependency\")\nand then you can use it:\njulia   using SomeFunExternalDependency\nDon't worry about forgetting to install dependencies–-if you do, Julia will show you an error with prompt for what to do:\n```julia   julia> using SomeFunPackageYouForgotToInstallFirst   ERROR: ArgumentError: Package SomeFunPackageYouForgotToInstallFirst not found in current path:\nRun import Pkg; Pkg.add(\"SomeFunPackageYouForgotToInstallFirst\") to install the SomeFunPackageYouForgotToInstallFirst package.\n```","category":"page"},{"location":"#SomervilleCouncilParser.jl","page":"Home","title":"SomervilleCouncilParser.jl","text":"","category":"section"},{"location":"#Contents","page":"Home","title":"Contents","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Pages = [\"new_users.md\", \"examples.md\", \"api.md\"]","category":"page"}]
}
